import{r as l,j as y}from"./jsx-runtime-DexIYAB0.js";import{V as j}from"./visually-hidden-BZ4kr5zh.js";import{u as M,c as V}from"./heading-BqLERMAu.js";import{u as G}from"./use-spring-CazReuEU.js";async function R(e){return new Promise(t=>setTimeout(t,e))}const T="_text_9hddl_3",E="_glyph_9hddl_17",N="_value_9hddl_31",p={text:T,glyph:E,value:N},v=["ا","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","ه","و","ي","أ","إ","آ","ؤ","ئ","ء","ة","ى","لا"],r={Glyph:"glyph",Value:"value"};function S(e,t,s){return e.map((i,a)=>{if(a<s)return{type:r.Value,value:i};if(s%1<.5){const n=Math.floor(Math.random()*v.length);return{type:r.Glyph,value:v[n]}}return{type:r.Glyph,value:t[a].value}})}const I=l.memo(({text:e,start:t=!0,delay:s=0,className:i,...a})=>{const n=l.useRef([{type:r.Glyph,value:""}]),f=l.useRef(),d=M(),h=G(0,{stiffness:8,damping:5});return l.useEffect(()=>{const x=f.current,o=e.split("");let _;const g=()=>{const c=n.current.map(u=>`<span class="${p[u.type]}">${u.value}</span>`);x.innerHTML=c.join("")},m=h.on("change",c=>{n.current=S(o,n.current,c),g()});return t&&!_&&!d&&(async()=>{await R(s),h.set(o.length)})(),d&&(n.current=o.map((c,u)=>({type:r.Value,value:o[u]})),g()),()=>{m==null||m()}},[h,d,t,s,e]),y.jsxs("span",{className:V(p.text,i),...a,children:[y.jsx(j,{className:p.label,children:e}),y.jsx("span",{"aria-hidden":!0,className:p.content,ref:f})]})});export{I as D};
